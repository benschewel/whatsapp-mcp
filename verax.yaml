name: WhatsApp-MCP
description: "WhatsApp MCP server that allows Claude to interact with your WhatsApp messages and contacts"
base_image: golang:1.21-alpine
project_directory: /app
# We'll need to set up both the Go and Python environments
install_command: |
  apk add --no-cache python3 py3-pip ffmpeg gcc musl-dev sqlite-dev
  cd whatsapp-bridge && go mod download
  cd ../whatsapp-mcp-server && pip install uv && uv pip install -r requirements.txt
build_command: |
  cd whatsapp-bridge && CGO_ENABLED=1 go build -o whatsapp-bridge ./main.go
start_command: |
  # Start the Go bridge in the background
  cd whatsapp-bridge && ./whatsapp-bridge &
  # Wait a moment for the bridge to initialize
  sleep 5
  # Start the Python MCP server
  cd whatsapp-mcp-server && python main.py
env:
  VEYRAX_API_KEY: config.VEYRAX_API_KEY
  # You might need to add other environment variables specific to your setup
  # CGO_ENABLED: "1"
